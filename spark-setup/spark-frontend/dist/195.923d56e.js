(self.webpackChunkspark=self.webpackChunkspark||[]).push([[195,873],{37848:(h,O,r)=>{"use strict";r.d(O,{default:()=>A});var e=r(68275),l=r(96540),_=r(55794),o=r.n(_),f=Object.defineProperty,P=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,C=(d,s,i)=>s in d?f(d,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):d[s]=i,I=(d,s)=>{for(var i in s||(s={}))E.call(s,i)&&C(d,i,s[i]);if(P)for(var i of P(s))L.call(s,i)&&C(d,i,s[i]);return d};function T(d){const[s,i]=(0,l.useState)(!0),[S,K]=(0,l.useState)({left:0,top:0,bottom:0,right:0}),D=(0,l.useRef)(null),B=(n,a)=>{var t;const{clientWidth:g,clientHeight:v}=window.document.documentElement,c=(t=D.current)==null?void 0:t.getBoundingClientRect();!c||s||K({left:-c.left+a.x,right:g-(c.right-a.x),top:-c.top+a.y,bottom:v-(c.bottom-a.y)})};return l.createElement(e.A,I({title:l.createElement("div",{style:{width:"100%",cursor:"move"},onMouseOver:()=>{s&&d.draggable&&i(!1)},onMouseOut:()=>{i(!0)},onFocus:()=>{},onBlur:()=>{i(!0)}},d.modalTitle),modalRender:n=>l.createElement(o(),{disabled:s||!d.draggable,bounds:S,onStart:(a,t)=>B(a,t)},l.createElement("div",{ref:D},n))},d),d.children)}const A=T},66286:(h,O,r)=>{"use strict";r.d(O,{default:()=>B});var e=r(96540),l=r(50400),_=r(79478),o=r(21086),f=r(70881),P=r(75427),E=r(47730),L=r(31331),C=r(37848),I=r(80581),T=Object.defineProperty,A=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(n,a,t)=>a in n?T(n,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[a]=t,S=(n,a)=>{for(var t in a||(a={}))d.call(a,t)&&i(n,t,a[t]);if(A)for(var t of A(a))s.call(a,t)&&i(n,t,a[t]);return n},K=(n,a,t)=>new Promise((g,v)=>{var c=u=>{try{p(t.next(u))}catch(y){v(y)}},b=u=>{try{p(t.throw(u))}catch(y){v(y)}},p=u=>u.done?g(u.value):Promise.resolve(u.value).then(c,b);p((t=t.apply(n,a)).next())});function D(n){const[a,t]=(0,e.useState)(!1),g=[{key:"Name",title:E.Ay.t("PROCMGR.PROCESS"),dataIndex:"name",ellipsis:!0,width:120},{key:"Pid",title:"Pid",dataIndex:"pid",ellipsis:!0,width:40},{key:"Option",width:40,title:"",dataIndex:"name",valueType:"option",ellipsis:!0,render:(R,M)=>p(M)}],v={show:!0,reload:!1,density:!1,setting:!1},c=(0,e.useRef)(),b=(0,e.useMemo)(()=>(0,L.x)({height:300}),[]);(0,e.useEffect)(()=>{n.open&&t(!1)},[n.device,n.open]);function p(R){return[e.createElement(o.A,{key:"kill",title:E.Ay.t("PROCMGR.KILL_PROCESS_CONFIRM"),onConfirm:u.bind(null,R.pid)},e.createElement("a",null,E.Ay.t("PROCMGR.KILL_PROCESS")))]}function u(R){(0,P.Em)("/api/device/process/kill",{pid:R,device:n.device.id}).then(M=>{M.data.code===0&&(_.Ay.success(E.Ay.t("PROCMGR.KILL_PROCESS_SUCCESSFULLY")),c.current.reload())})}function y(R){return K(this,null,function*(){yield(0,P.zR)(300);let M=yield(0,P.Em)("/api/device/process/list",{device:n.device.id});t(!1);let m=M.data;return m.code===0?(m.data.processes=m.data.processes.sort((U,W)=>W.pid-U.pid),{data:m.data.processes,success:!0,total:m.data.processes.length}):{data:[],success:!1,total:0}})}return e.createElement(C.default,S({draggable:!0,maskClosable:!1,destroyOnClose:!0,modalTitle:E.Ay.t("PROCMGR.TITLE"),footer:null,width:500,bodyStyle:{padding:0}},n),e.createElement(f.Ay,{rowKey:"pid",tableStyle:{paddingTop:"20px",minHeight:"355px",maxHeight:"355px"},scroll:{scrollToFirstRowOnChange:!0,y:300},search:!1,size:"small",loading:a,onLoadingChange:t,options:v,columns:g,request:y,pagination:!1,actionRef:c,components:b}),e.createElement(l.A,{style:{right:"59px"},className:"header-button",icon:e.createElement(I.A,null),onClick:()=>{c.current.reload()}}))}const B=D},71508:h=>{function O(e){var l,_,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var f=e.length;for(l=0;l<f;l++)e[l]&&(_=O(e[l]))&&(o&&(o+=" "),o+=_)}else for(_ in e)e[_]&&(o&&(o+=" "),o+=_);return o}function r(){for(var e,l,_=0,o="",f=arguments.length;_<f;_++)(e=arguments[_])&&(l=O(e))&&(o&&(o+=" "),o+=l);return o}h.exports=r,h.exports.clsx=r}}]);
