(self.webpackChunkspark=self.webpackChunkspark||[]).push([[847,825],{4578:(p,P,e)=>{var o={"./mode-abap":54291,"./mode-abap.js":54291,"./mode-abc":34439,"./mode-abc.js":34439,"./mode-actionscript":94456,"./mode-actionscript.js":94456,"./mode-ada":82215,"./mode-ada.js":82215,"./mode-alda":7722,"./mode-alda.js":7722,"./mode-apache_conf":93411,"./mode-apache_conf.js":93411,"./mode-apex":26870,"./mode-apex.js":26870,"./mode-applescript":43530,"./mode-applescript.js":43530,"./mode-aql":12062,"./mode-aql.js":12062,"./mode-asciidoc":3686,"./mode-asciidoc.js":3686,"./mode-asl":84261,"./mode-asl.js":84261,"./mode-assembly_x86":79113,"./mode-assembly_x86.js":79113,"./mode-autohotkey":65147,"./mode-autohotkey.js":65147,"./mode-batchfile":89206,"./mode-batchfile.js":89206,"./mode-c9search":83448,"./mode-c9search.js":83448,"./mode-c_cpp":15957,"./mode-c_cpp.js":15957,"./mode-cirru":71255,"./mode-cirru.js":71255,"./mode-clojure":1926,"./mode-clojure.js":1926,"./mode-cobol":52437,"./mode-cobol.js":52437,"./mode-coffee":72730,"./mode-coffee.js":72730,"./mode-coldfusion":73101,"./mode-coldfusion.js":73101,"./mode-crystal":20902,"./mode-crystal.js":20902,"./mode-csharp":14051,"./mode-csharp.js":14051,"./mode-csound_document":56195,"./mode-csound_document.js":56195,"./mode-csound_orchestra":90148,"./mode-csound_orchestra.js":90148,"./mode-csound_score":21762,"./mode-csound_score.js":21762,"./mode-csp":63935,"./mode-csp.js":63935,"./mode-css":37336,"./mode-css.js":37336,"./mode-curly":30557,"./mode-curly.js":30557,"./mode-d":61721,"./mode-d.js":61721,"./mode-dart":62897,"./mode-dart.js":62897,"./mode-diff":50757,"./mode-diff.js":50757,"./mode-django":16042,"./mode-django.js":16042,"./mode-dockerfile":81942,"./mode-dockerfile.js":81942,"./mode-dot":3031,"./mode-dot.js":3031,"./mode-drools":56544,"./mode-drools.js":56544,"./mode-edifact":70298,"./mode-edifact.js":70298,"./mode-eiffel":19109,"./mode-eiffel.js":19109,"./mode-ejs":29887,"./mode-ejs.js":29887,"./mode-elixir":10574,"./mode-elixir.js":10574,"./mode-elm":87853,"./mode-elm.js":87853,"./mode-erlang":75575,"./mode-erlang.js":75575,"./mode-forth":52226,"./mode-forth.js":52226,"./mode-fortran":18407,"./mode-fortran.js":18407,"./mode-fsharp":52822,"./mode-fsharp.js":52822,"./mode-fsl":45668,"./mode-fsl.js":45668,"./mode-ftl":51500,"./mode-ftl.js":51500,"./mode-gcode":19112,"./mode-gcode.js":19112,"./mode-gherkin":36785,"./mode-gherkin.js":36785,"./mode-gitignore":7312,"./mode-gitignore.js":7312,"./mode-glsl":37918,"./mode-glsl.js":37918,"./mode-gobstones":42030,"./mode-gobstones.js":42030,"./mode-golang":607,"./mode-golang.js":607,"./mode-graphqlschema":44169,"./mode-graphqlschema.js":44169,"./mode-groovy":7197,"./mode-groovy.js":7197,"./mode-haml":93238,"./mode-haml.js":93238,"./mode-handlebars":31754,"./mode-handlebars.js":31754,"./mode-haskell":56159,"./mode-haskell.js":56159,"./mode-haskell_cabal":88639,"./mode-haskell_cabal.js":88639,"./mode-haxe":31152,"./mode-haxe.js":31152,"./mode-hjson":96478,"./mode-hjson.js":96478,"./mode-html":81272,"./mode-html.js":81272,"./mode-html_elixir":93942,"./mode-html_elixir.js":93942,"./mode-html_ruby":63849,"./mode-html_ruby.js":63849,"./mode-ini":91885,"./mode-ini.js":91885,"./mode-io":18041,"./mode-io.js":18041,"./mode-ion":1998,"./mode-ion.js":1998,"./mode-jack":63780,"./mode-jack.js":63780,"./mode-jade":4985,"./mode-jade.js":4985,"./mode-java":34161,"./mode-java.js":34161,"./mode-javascript":49063,"./mode-javascript.js":49063,"./mode-json":82341,"./mode-json.js":82341,"./mode-json5":80824,"./mode-json5.js":80824,"./mode-jsoniq":1801,"./mode-jsoniq.js":1801,"./mode-jsp":3795,"./mode-jsp.js":3795,"./mode-jssm":21886,"./mode-jssm.js":21886,"./mode-jsx":62652,"./mode-jsx.js":62652,"./mode-julia":87325,"./mode-julia.js":87325,"./mode-kotlin":59573,"./mode-kotlin.js":59573,"./mode-latex":97150,"./mode-latex.js":97150,"./mode-latte":92571,"./mode-latte.js":92571,"./mode-less":97595,"./mode-less.js":97595,"./mode-liquid":81629,"./mode-liquid.js":81629,"./mode-lisp":21024,"./mode-lisp.js":21024,"./mode-livescript":30533,"./mode-livescript.js":30533,"./mode-logiql":78401,"./mode-logiql.js":78401,"./mode-logtalk":25900,"./mode-logtalk.js":25900,"./mode-lsl":80381,"./mode-lsl.js":80381,"./mode-lua":70790,"./mode-lua.js":70790,"./mode-luapage":66683,"./mode-luapage.js":66683,"./mode-lucene":2585,"./mode-lucene.js":2585,"./mode-makefile":99874,"./mode-makefile.js":99874,"./mode-markdown":75266,"./mode-markdown.js":75266,"./mode-mask":81078,"./mode-mask.js":81078,"./mode-matlab":99829,"./mode-matlab.js":99829,"./mode-maze":59414,"./mode-maze.js":59414,"./mode-mediawiki":36776,"./mode-mediawiki.js":36776,"./mode-mel":48805,"./mode-mel.js":48805,"./mode-mips":58570,"./mode-mips.js":58570,"./mode-mixal":5553,"./mode-mixal.js":5553,"./mode-mushcode":1220,"./mode-mushcode.js":1220,"./mode-mysql":84216,"./mode-mysql.js":84216,"./mode-nginx":84144,"./mode-nginx.js":84144,"./mode-nim":48184,"./mode-nim.js":48184,"./mode-nix":27686,"./mode-nix.js":27686,"./mode-nsis":24768,"./mode-nsis.js":24768,"./mode-nunjucks":71423,"./mode-nunjucks.js":71423,"./mode-objectivec":14747,"./mode-objectivec.js":14747,"./mode-ocaml":41007,"./mode-ocaml.js":41007,"./mode-partiql":2974,"./mode-partiql.js":2974,"./mode-pascal":43697,"./mode-pascal.js":43697,"./mode-perl":20543,"./mode-perl.js":20543,"./mode-pgsql":5626,"./mode-pgsql.js":5626,"./mode-php":23423,"./mode-php.js":23423,"./mode-php_laravel_blade":13503,"./mode-php_laravel_blade.js":13503,"./mode-pig":8245,"./mode-pig.js":8245,"./mode-plain_text":98807,"./mode-plain_text.js":98807,"./mode-powershell":33194,"./mode-powershell.js":33194,"./mode-praat":61121,"./mode-praat.js":61121,"./mode-prisma":95734,"./mode-prisma.js":95734,"./mode-prolog":51353,"./mode-prolog.js":51353,"./mode-properties":66679,"./mode-properties.js":66679,"./mode-protobuf":11124,"./mode-protobuf.js":11124,"./mode-puppet":45001,"./mode-puppet.js":45001,"./mode-python":11615,"./mode-python.js":11615,"./mode-qml":85854,"./mode-qml.js":85854,"./mode-r":26713,"./mode-r.js":26713,"./mode-raku":93539,"./mode-raku.js":93539,"./mode-razor":76471,"./mode-razor.js":76471,"./mode-rdoc":69033,"./mode-rdoc.js":69033,"./mode-red":91156,"./mode-red.js":91156,"./mode-redshift":66618,"./mode-redshift.js":66618,"./mode-rhtml":75606,"./mode-rhtml.js":75606,"./mode-rst":35972,"./mode-rst.js":35972,"./mode-ruby":49375,"./mode-ruby.js":49375,"./mode-rust":89929,"./mode-rust.js":89929,"./mode-sac":49292,"./mode-sac.js":49292,"./mode-sass":27299,"./mode-sass.js":27299,"./mode-scad":75515,"./mode-scad.js":75515,"./mode-scala":27194,"./mode-scala.js":27194,"./mode-scheme":40013,"./mode-scheme.js":40013,"./mode-scrypt":36682,"./mode-scrypt.js":36682,"./mode-scss":36948,"./mode-scss.js":36948,"./mode-sh":40107,"./mode-sh.js":40107,"./mode-sjs":54517,"./mode-sjs.js":54517,"./mode-slim":31241,"./mode-slim.js":31241,"./mode-smarty":17108,"./mode-smarty.js":17108,"./mode-smithy":94012,"./mode-smithy.js":94012,"./mode-snippets":32103,"./mode-snippets.js":32103,"./mode-soy_template":63518,"./mode-soy_template.js":63518,"./mode-space":79706,"./mode-space.js":79706,"./mode-sparql":51873,"./mode-sparql.js":51873,"./mode-sql":53664,"./mode-sql.js":53664,"./mode-sqlserver":43731,"./mode-sqlserver.js":43731,"./mode-stylus":78648,"./mode-stylus.js":78648,"./mode-svg":51800,"./mode-svg.js":51800,"./mode-swift":72788,"./mode-swift.js":72788,"./mode-tcl":98305,"./mode-tcl.js":98305,"./mode-terraform":47763,"./mode-terraform.js":47763,"./mode-tex":66889,"./mode-tex.js":66889,"./mode-text":38794,"./mode-text.js":38794,"./mode-textile":30715,"./mode-textile.js":30715,"./mode-toml":74424,"./mode-toml.js":74424,"./mode-tsx":55178,"./mode-tsx.js":55178,"./mode-turtle":9058,"./mode-turtle.js":9058,"./mode-twig":75880,"./mode-twig.js":75880,"./mode-typescript":46213,"./mode-typescript.js":46213,"./mode-vala":18735,"./mode-vala.js":18735,"./mode-vbscript":82865,"./mode-vbscript.js":82865,"./mode-velocity":60292,"./mode-velocity.js":60292,"./mode-verilog":53028,"./mode-verilog.js":53028,"./mode-vhdl":30308,"./mode-vhdl.js":30308,"./mode-visualforce":77499,"./mode-visualforce.js":77499,"./mode-wollok":92762,"./mode-wollok.js":92762,"./mode-xml":12964,"./mode-xml.js":12964,"./mode-xquery":44920,"./mode-xquery.js":44920,"./mode-yaml":69405,"./mode-yaml.js":69405,"./mode-zeek":35832,"./mode-zeek.js":35832};function s(d){var n=i(d);return e(n)}function i(d){if(!e.o(o,d)){var n=new Error("Cannot find module '"+d+"'");throw n.code="MODULE_NOT_FOUND",n}return o[d]}s.keys=function(){return Object.keys(o)},s.resolve=i,p.exports=s,s.id=4578},78270:(p,P,e)=>{var o={"./theme-ambiance":98512,"./theme-ambiance.js":98512,"./theme-chaos":56223,"./theme-chaos.js":56223,"./theme-chrome":19385,"./theme-chrome.js":19385,"./theme-cloud9_day":53081,"./theme-cloud9_day.js":53081,"./theme-cloud9_night":25567,"./theme-cloud9_night.js":25567,"./theme-cloud9_night_low_color":64499,"./theme-cloud9_night_low_color.js":64499,"./theme-clouds":37784,"./theme-clouds.js":37784,"./theme-clouds_midnight":604,"./theme-clouds_midnight.js":604,"./theme-cobalt":10135,"./theme-cobalt.js":10135,"./theme-crimson_editor":59191,"./theme-crimson_editor.js":59191,"./theme-dawn":98934,"./theme-dawn.js":98934,"./theme-dracula":83734,"./theme-dracula.js":83734,"./theme-dreamweaver":96352,"./theme-dreamweaver.js":96352,"./theme-eclipse":58399,"./theme-eclipse.js":58399,"./theme-github":15305,"./theme-github.js":15305,"./theme-gob":54112,"./theme-gob.js":54112,"./theme-gruvbox":18857,"./theme-gruvbox.js":18857,"./theme-idle_fingers":767,"./theme-idle_fingers.js":767,"./theme-iplastic":66897,"./theme-iplastic.js":66897,"./theme-katzenmilch":43134,"./theme-katzenmilch.js":43134,"./theme-kr_theme":83136,"./theme-kr_theme.js":83136,"./theme-kuroir":25918,"./theme-kuroir.js":25918,"./theme-merbivore":17113,"./theme-merbivore.js":17113,"./theme-merbivore_soft":36442,"./theme-merbivore_soft.js":36442,"./theme-mono_industrial":72087,"./theme-mono_industrial.js":72087,"./theme-monokai":20692,"./theme-monokai.js":20692,"./theme-nord_dark":27123,"./theme-nord_dark.js":27123,"./theme-one_dark":74485,"./theme-one_dark.js":74485,"./theme-pastel_on_dark":72921,"./theme-pastel_on_dark.js":72921,"./theme-solarized_dark":81431,"./theme-solarized_dark.js":81431,"./theme-solarized_light":10181,"./theme-solarized_light.js":10181,"./theme-sqlserver":66923,"./theme-sqlserver.js":66923,"./theme-terminal":15706,"./theme-terminal.js":15706,"./theme-textmate":55872,"./theme-textmate.js":55872,"./theme-tomorrow":77011,"./theme-tomorrow.js":77011,"./theme-tomorrow_night":92857,"./theme-tomorrow_night.js":92857,"./theme-tomorrow_night_blue":58613,"./theme-tomorrow_night_blue.js":58613,"./theme-tomorrow_night_bright":70597,"./theme-tomorrow_night_bright.js":70597,"./theme-tomorrow_night_eighties":20742,"./theme-tomorrow_night_eighties.js":20742,"./theme-twilight":34314,"./theme-twilight.js":34314,"./theme-vibrant_ink":24830,"./theme-vibrant_ink.js":24830,"./theme-xcode":95789,"./theme-xcode.js":95789};function s(d){var n=i(d);return e(n)}function i(d){if(!e.o(o,d)){var n=new Error("Cannot find module '"+d+"'");throw n.code="MODULE_NOT_FOUND",n}return o[d]}s.keys=function(){return Object.keys(o)},s.resolve=i,p.exports=s,s.id=78270},50847:(p,P,e)=>{"use strict";e.r(P),e.d(P,{default:()=>ee});var o=e(67294),s=e(28682),i=e(48086),d=e(50146),n=e(11382),K=e(76772),S=e(19650),k=e(13013),C=e(71577),l=e(37240),D=e(81027),U=e(80129),w=e.n(U),B=e(9669),W=e.n(B),F=e(7085),z=e(54549),N=e(74981),X=e(53239),V=e.n(X),H=e(58119),le=e.n(H),G=e(90428),ae=e.n(G),J=e(59236),ne=e.n(J),Q=(t,O,r)=>new Promise((f,_)=>{var v=c=>{try{g(r.next(c))}catch(u){_(u)}},y=c=>{try{g(r.throw(c))}catch(u){_(u)}},g=c=>c.done?f(c.value):Promise.resolve(c.value).then(v,y);g((r=r.apply(t,O)).next())});const Y=V().require("ace/ext/modelist");let E=0,ie=!1,j=q();try{e(78270)("./theme-"+j.theme)}catch(t){e(767),j.theme="Idle Fingers"}function $(t){const[O,r]=(0,o.useState)(!1),[f,_]=(0,o.useState)(""),[v,y]=(0,o.useState)(j.theme),[g,c]=(0,o.useState)("text"),[u,L]=(0,o.useState)(!1),[T,x]=(0,o.useState)(t.file),h=(0,o.useRef)(),oe=o.createElement(s.Z,{onClick:te},o.createElement(s.Z.Item,{key:"enlarge"},l.ZP.t("EXPLORER.ENLARGE")),o.createElement(s.Z.Item,{key:"shrink"},l.ZP.t("EXPLORER.SHRINK"))),I={github:"GitHub",monokai:"Monokai",tomorrow:"Tomorrow",twilight:"Twilight",eclipse:"Eclipse",kuroir:"Kuroir",xcode:"XCode",idle_fingers:"Idle Fingers"},me=o.createElement(s.Z,{onClick:de},Object.keys(I).map(m=>o.createElement(s.Z.Item,{disabled:v===m,key:m},I[m])));(0,o.useEffect)(()=>{if(t.file){let m=Y.getModeForPath(t.file);m||(m={name:"text"});try{e(4578)("./mode-"+m.name)}catch(a){e(38794)}x(!0),_(t.content),c(m)}E=0,r(!1),window.onbeforeunload=null},[t.file]);function te(m){let a=parseInt(h.current.editor.getFontSize());if(a=isNaN(a)?15:a,m.key==="enlarge")a++,h.current.editor.setFontSize(a+1);else if(m.key==="shrink"){if(a<=14){i.ZP.warn(l.ZP.t("EXPLORER.REACHED_MIN_FONT_SIZE"));return}a--,h.current.editor.setFontSize(a)}j.fontSize=a,b(j)}function de(m){e(78270)("./theme-"+m.key),y(m.key),j.theme=m.key,b(j),h.current.editor.setTheme("ace/theme/"+m.key)}function A(m){r(!1),setTimeout(()=>{x(!1),_(""),window.onbeforeunload=null,t.onCancel(m)},150)}function Z(){r(!1)}function se(){u||(E===1?r(!0):(x(!1),_(""),window.onbeforeunload=null,t.onCancel(E===2)))}function M(m){return Q(this,null,function*(){if(u)return;L(!0),yield(0,D.pQ)(300);const a=w().stringify({device:t.device.id,path:t.path,file:t.file});W().post("/api/device/file/upload?"+a,h.current.editor.getValue(),{headers:{"Content-Type":"application/octet-stream"},timeout:1e4}).then(R=>{R.data.code===0&&(E=2,window.onbeforeunload=null,i.ZP.success(l.ZP.t("EXPLORER.FILE_SAVE_SUCCESSFULLY")),typeof m=="function"&&m())}).catch(R=>{i.ZP.error(l.ZP.t("EXPLORER.FILE_SAVE_FAILED")+l.ZP.t("COMMON.COLON")+R.message)}).finally(()=>{L(!1)})})}return o.createElement(d.Z,{title:t.file,mask:!1,keyboard:!1,open:T,maskClosable:!1,className:"editor-modal",closeIcon:u?o.createElement(n.Z,{indicator:o.createElement(F.Z,null)}):o.createElement(z.Z,null),onCancel:se,footer:null,destroyOnClose:!0},o.createElement(K.Z,{closable:!1,message:o.createElement(S.Z,{size:16},o.createElement("a",{onClick:M},l.ZP.t("EXPLORER.SAVE")),o.createElement("a",{onClick:()=>h.current.editor.execCommand("find")},l.ZP.t("EXPLORER.SEARCH")),o.createElement("a",{onClick:()=>h.current.editor.execCommand("replace")},l.ZP.t("EXPLORER.REPLACE")),o.createElement(k.Z,{overlay:oe},o.createElement("a",null,l.ZP.t("EXPLORER.FONT"))),o.createElement(k.Z,{overlay:me},o.createElement("a",null,l.ZP.t("EXPLORER.THEME")))),style:{marginBottom:"12px"}}),o.createElement(N.ZP,{ref:h,mode:g.name,theme:v,name:"text-editor",width:"100%",height:"100%",commands:[{name:"save",bindKey:{win:"Ctrl-S",mac:"Command-S"},exec:M},{name:"find",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:"find"},{name:"replace",bindKey:{win:"Ctrl-H",mac:"Command-H"},exec:"replace"}],value:f,onChange:m=>{!T||m.length===f.length&&m===f||(window.onbeforeunload=D.Vn,_(m),E=1)},debounceChangePeriod:100,fontSize:j.fontSize,editorProps:{$blockScrolling:!0},setOptions:{enableBasicAutocompletion:!0}}),o.createElement(d.Z,{closable:!0,open:O,onCancel:Z,footer:[o.createElement(C.Z,{key:"cancel",onClick:Z},l.ZP.t("EXPLORER.CANCEL")),o.createElement(C.Z,{type:"danger",key:"doNotSave",onClick:A.bind(null,!1)},l.ZP.t("EXPLORER.FILE_DO_NOT_SAVE")),o.createElement(C.Z,{type:"primary",key:"save",onClick:M.bind(null,A.bind(null,!0))},l.ZP.t("EXPLORER.SAVE"))]},l.ZP.t("EXPLORER.NOT_SAVED_CONFIRM")))}function q(){let t=localStorage.getItem("editorConfig");if(t)try{t=JSON.parse(t)}catch(O){t=null}return t||(t={fontSize:15,theme:"idle_fingers"}),t}function b(t){localStorage.setItem("editorConfig",JSON.stringify(t))}const ee=$}}]);
